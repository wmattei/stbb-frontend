<div
    fxLayout="column"
    class=" header"
    fxLayoutAlign="center center"
    fxFlexAlign="center"
>
    <div
        fxLayout="row"
        class="mt-8 mb-8"
        fxFlexFill
        fxLayoutAlign="start center"
    >
        <button mat-icon-button (click)="openDrawer()">
            <mat-icon class="tc-white">menu</mat-icon>
        </button>
    </div>
    <div fxLayout="row" class="m-40" fxLayoutAlign="center center">
        <div>
            <!-- <piece-profile-avatar
        [allowChange]="true"
        [user]="user$ | async"
      ></piece-profile-avatar> -->
        </div>
        <div fxLayout="column" class="ml-8">
            <b class="tc-white font-14 uppercase mr-8">{{
                (user$ | async)?.name || 'Loading' + '...'
            }}</b>
            <span class="tc-white font-12">{{ (user$ | async)?.email }}</span>
        </div>
    </div>
</div>
<div class="bgc-white">
    <div fxLayout="column" fxFlex>
        <div class="p-24">
            <div
                fxLayout="row"
                class="mt-8 mb-8"
                fxLayoutAlign="space-between center"
            ></div>
            <div class="mt-16">
                <form novalidate [formGroup]="form" (submit)="save()" fxFlex>
                    <div fxLayout="column" fxLayout.lg="row">
                        <mat-form-field appearance="outline" fxFlex>
                            <i
                                class="material-icons-outlined tc-paragraph-light"
                                matPrefix
                                >person</i
                            >
                            <input
                                matInput
                                required
                                placeholder="Nombre""
                                formControlName="first_name"
                            />
                            <mat-error>Obligatório</mat-error>
                        </mat-form-field>
                    </div>

                    <div fxLayout="column" fxLayout.lg="row">
                        <mat-form-field appearance="outline" fxFlex>
                            <i
                                class="material-icons-outlined tc-paragraph-light"
                                matPrefix
                                >email</i
                            >
                            <input
                                matInput
                                required
                                placeholder="E-mail"
                                formControlName="email"
                            />
                            <mat-error>Obligatório</mat-error>
                            <mat-error
                                *ngIf="!form.get('email').hasError('required')"
                                >Formato incorrecto</mat-error
                            >
                        </mat-form-field>
                    </div>
                    <span>Cambiar contraseña</span>

                    <div fxLayout="column" fxLayout.lg="row">
                        <mat-form-field appearance="outline" fxFlex>
                            <i
                                class="material-icons-outlined tc-paragraph-light"
                                matPrefix
                                >lock_open</i
                            >
                            <input
                                matInput
                                required
                                placeholder="Contraseña"
                                type="password"
                                formControlName="password"
                            />
                            <mat-error>Obligatório</mat-error>
                        </mat-form-field>
                    </div>
                    <div fxLayout="column" fxLayout.lg="row">
                        <mat-form-field appearance="outline" fxFlex>
                            <i
                                class="material-icons-outlined tc-paragraph-light"
                                matPrefix
                                >lock_open</i
                            >
                            <input
                                matInput
                                required
                                type="password"
                                placeholder="Confirmación de contraseña"
                                formControlName="password_confirmation"
                            />
                            <mat-error>Obligatório</mat-error>
                        </mat-form-field>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="p-32">
    <button (click)="save()" mat-flat-button color="accent" fxFlex>
        <b class="tc-white">Salvar</b>
    </button>
</div>
